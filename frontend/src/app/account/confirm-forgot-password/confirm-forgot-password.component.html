<div class="login mt-4">
  <div class="row justify-content-center">
    <div class="col-xl-4 col-lg-6 col-md-6 col-sm-8 justify-content-center">
      <div class="card shadow">
        <div class="card-body pt-0">
          <div class="bg-transparent mt-4">
            <div class="col-lg-12 col-md-12 text-center">
              <div class="navbar-brand pt-0 d-flex justify-content-center ">
                <img alt="logo-joinus" class="img img-confirm-account"
                     src="./assets/img/brand/joinus-text.svg">
              </div>
            </div>
          </div>
          <div class="card-body p-3">
            <h1>¡Bienvenid@!</h1>
            <h2>Aquí puedes recuperar tu contraseña:</h2>
            <form [formGroup]="formGroup" role="form">
              <div class="form-group mb-3">
                <span class="p-float-label">
                  <input autocomplete="off" formControlName="userEmail" id="email" pInputText type="email">
                  <label for="email">Correo institucional<strong class="text-requerid">*</strong></label>
                </span>
                <small *ngIf="formGroup.get('userEmail').hasError('pattern')"
                       class="text-requerid">Correo electrónico no válido, debe ser del dominio
                  <strong>@ufps.edu.co</strong>.</small>
              </div>
              <div class="form-group mb-4">
                <span class="p-float-label">
                  <input autocomplete="off"
                         formControlName="confirmationCode" id="confirmationCode" pInputText
                         type="text" name="confirmationCode" minlength="6" maxlength="6" class="col-10 mr-2"
                         pTooltip="Este código lo puedes encontrar en el correo que recibiste al realizar esta solicitud."
                         tooltipPosition="top">
                  <label for="confirmationCode">Código de confirmación<strong class="text-requerid">*</strong></label>
                  <span class="ui-inputgroup-addon iconInput showPass">
                        <em
                          pTooltip="Este código lo puedes encontrar en el correo que recibiste al realizar esta solicitud."
                          tooltipPosition="top"
                          (click)="showToastLarge('El código de confirmación lo puedes encontrar en el correo que recibiste al realizar esta solicitud.')"
                          class="bi bi-info-circle-fill color-icon-fill cursor" style="line-height: 1.25;"></em>
                  </span>
                </span>
                <small *ngIf="formGroup.get('confirmationCode').hasError('minlength')"
                       class="text-requerid">6 dígitos mínimo.</small>
                <small *ngIf="formGroup.get('confirmationCode').hasError('pattern')"
                       class="text-requerid">El código solo contiene números.</small>
              </div>
              <div class="form-group mb-4">
                <span class="p-float-label">
                  <input autocomplete="off" formControlName="newPassword" id="newPassword" pInputText type="password"
                         name="newPassword" oncopy="return false" onpaste="return false" class="col-10 mr-2"
                         pTooltip="{{constString.TIPS_PASSWORD}}"
                         tooltipPosition="top">
                  <label for="newPassword">Nueva contraseña<strong class="text-requerid">*</strong></label>
                  <span class="ui-inputgroup-addon iconInput showPass">
                    <em [class]="iconNewPassword" style="line-height: 1.25;"
                        (click)="showPassword('newPassword', 0)"></em>
                    <em
                      pTooltip="{{constString.TIPS_PASSWORD}}"
                      tooltipPosition="top"
                      (click)="showToastLarge(constString.TIPS_PASSWORD)"
                      class="bi bi-info-circle-fill color-icon-fill cursor" style="line-height: 1.25;"></em>
                  </span>
                </span>
                <small *ngIf="formGroup.get('newPassword').hasError('pattern')" class="text-requerid">La contraseña no
                  es válida.</small>
              </div>
              <div class="form-group mb-4">
                <span class="p-float-label">
                  <input autocomplete="off" formControlName="confirmPassword" id="confirmPassword" pInputText
                         type="password" name="confirmPassword" oncopy="return false" onpaste="return false"
                         class="col-10 mr-2" (change)="changeErrorClassConfirmPassword()"
                         [ngClass]="classErrorConfirmPassword" pTooltip="Repite la nueva contraseña para confirmar."
                         tooltipPosition="top">
                  <label for="confirmPassword">Confirmar contraseña<strong class="text-requerid">*</strong></label>
                  <span class="ui-inputgroup-addon iconInput showPass">
                  <em [class]="iconConfirmPassword" style="line-height: 1.25;"
                      (click)="showPassword('confirmPassword', 1)"></em>
                    <em pTooltip="Repite la nueva contraseña para confirmar."
                        tooltipPosition="top" (click)="showToast('Repite la nueva contraseña para confirmar.')"
                        class="bi bi-info-circle-fill color-icon-fill cursor" style="line-height: 1.25;"></em>
                  </span>
                </span>
                <small *ngIf="formGroup.get('confirmPassword').hasError('pattern')" class="text-requerid">La
                  contraseña no es válida</small>
                <small *ngIf="formGroup.get('confirmPassword').hasError('NoPassswordMatch')"
                       class="error-field">Las contraseñas no coinciden.</small>
              </div>
              <div class="text-center">
                <button (click)="confirmForgotPassword()" [disabled]="!formGroup.valid"
                        class="btn btn-red btn-login mat-typography my-4" type="button">Actualizar contraseña
                </button>
              </div>
            </form>
            <app-footer></app-footer>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<p-toast position="bottom-center"></p-toast>

